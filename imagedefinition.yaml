$schema: 1.0
tasks:
  - name: winget
    parameters: { package: Microsoft.VisualStudioCode }
  - name: winget
    parameters: { package: Microsoft.PowerShell }
  - name: winget
    parameters: { package: CoreyButler.NVMforWindows }
  - name: winget
    parameters: { package: Microsoft.SQLServer.2022.Developer }
  - name: winget
    parameters: { package: Notepad++.Notepad++ }
  - name: winget
    parameters: { package: Microsoft.DotNet.SDK.8 }
  - name: winget
    parameters: { package: GitHub.GitHubDesktop }
  - name: powershell
    parameters:
      command: |
        dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
        dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
        wsl --set-default-version 2 2>$null
